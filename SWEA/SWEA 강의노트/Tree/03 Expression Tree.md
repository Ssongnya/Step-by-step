# Expression Tree

## List를 이용한 Binary Tree의 표현

### 리스트를 이용한 이진 트리의 표현

1. 이진 트리에 각 노드 번호를 다음과 같이 부여
2. 루트의 번호를 1로 함
3. 레벨 n에 있는 노드에 대하여 왼쪽부터 오른쪽으로 2n부터 2<sup>n + 1</sup> - 1 까지 번호를 차례로 부여
```
           A(1)  -------------- 레벨 0
       /       \
      B(2)       C(3)  -------- 레벨 1
    /   \      /   \
   D(4)  E(5) F(6)  G(7)  ----- 레벨 2
 /   \   |
H     I  J  ------------------- 레벨 3
(8)  (9)(10)
```

### 노드 번호의 성질

1) 노드 번호가 i인 노드의 부모 노드 번호 `i//2`
2) 노드 번호과 i인 노드의 왼쪽 자식 노드 번호는 `2 * i`
3) 노드 번호가 i인 노드의 오른쪽 자식 노드 번호는 `2 * i + 1`

```
                     A(1)
            /                   \  
         B(2)                     C(3)         
      /       \                 /      \
   D(4)        E(5)          F(6)       G(7)
  /   \       /    \        /    \
H(8) I(9)   J(10) K(11)   L(12) M(13)
```

#### 이진 트리를 리스트로 표현하려면

1. 노드 번호를 리스트의 인덱스로 사용
2. 높이가 h인 이진트리를 위한 리스트의 크기는?
  - 레벨 i의 최대 노드 수는 2<sup>i</sup>
  - 따라서 1 + 2 + 4 + 8 + ··· + 2<sup>i</sup> = ∑2<sup>i</sup> = 2<sup>h + 1</sup> - 1
```
           A(1)  -------------- 레벨 0
       /       \
      B(2)       C(3)  -------- 레벨 1
    /   \      /   \
   D(4)  E(5) F(6)  G(7)  ----- 레벨 2
 /   \   |
H     I  J  ------------------- 레벨 3
(8)  (9)(10)
```

- 리스트

|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|
|-|-|-|-|-|-|-|-|-|-|--|--|--|--|--|--|
|-|A|B|C|D|E|F|G|H|I|J|-|-|-|-|-|

### 리스트를 이용한 편향 이진 트리 표현

```
            A(1)
          /
        B(2)
      /
    C(4)
  /
D(8)
```
|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|
|-|-|-|-|-|-|-|-|-|-|--|--|--|--|--|--|
|-|A|B|-|C|-|-|-|D|-|-|-|-|-|-|-|


```
A(1)
  \
    B(3)
      \
        C(7)
          \ 
            D(15)
```
|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|
|-|-|-|-|-|-|-|-|-|-|--|--|--|--|--|--|
|-|A|B|-|-|-|-|C|-|-|-|-|-|-|-|D|

### 리스트를 이용한 이진트리 표현의 단점

편향 이진 트리의 경우에 사용하지 않는 리스트 원소에 대한 메모리 공간 낭비 발생

- 보완 방법
  - 1) 연결 리스트를 이용하여 트리를 표현
      - 리스트를 이용한 이진트리 표현의 단점 보완
  - 2) 연결 자료구조를 이용한 이진트리의 이해와 표현
      - 이진 트리의 모든 노드는 최대 2개의 자식 노드를 가지므로 일정한 구조의 단순 연결 List 노드를 사용하여 구현
        `left(왼쪽 자식 노드) - 데이터 - right(오른쪽 자식 노드)`
        